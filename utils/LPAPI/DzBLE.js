var _0x5970 = ["\x35\x36\x38\x32\x39\x30\x34\x31\x33\x37", "", "\x65\x78\x70\x6F\x72\x74\x73", "\u521D\u59CB\u5316\u84DD\u7259\u9002\u914D\u5668\u6210\u529F\uFF01", "\x6C\x6F\x67", "\x6F\x6E\x42\x6C\x75\x65\x74\x6F\x6F\x74\x68\x41\x64\x61\x70\x74\x65\x72\x53\x74\x61\x74\x65\x43\x68\x61\x6E\x67\x65", "\x6F\x70\x65\x6E\x42\x6C\x75\x65\x74\x6F\x6F\x74\x68\x41\x64\x61\x70\x74\x65\x72", "\x73\x74\x61\x72\x74\x42\x6C\x75\x65\x74\x6F\x6F\x74\x68\x44\x65\x76\x69\x63\x65\x73\x44\x69\x73\x63\x6F\x76\x65\x72\x79", "\x73\x74\x6F\x70\x42\x6C\x75\x65\x74\x6F\x6F\x74\x68\x44\x65\x76\x69\x63\x65\x73\x44\x69\x73\x63\x6F\x76\x65\x72\x79", "\u5DF2\u8FDE\u63A5\u84DD\u7259\u8BBE\u5907\uFF1A", "\u8FDE\u63A5\u6253\u5370\u673A\u6210\u529F", "\x73\x68\x6F\x77\x54\x6F\x61\x73\x74", "\x73\x65\x72\x76\x69\x63\x65\x73", "\x6C\x65\x6E\x67\x74\x68", "\x75\x75\x69\x64", "\x46\x30\x30\x30\x46\x46\x43\x30\x2D\x30\x34\x35\x31\x2D\x34\x30\x30\x30\x2D\x42\x30\x30\x30\x2D\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30\x30", "\x30\x30\x30\x30\x31\x38\x46\x30\x2D\x30\x30\x30\x30\x2D\x31\x30\x30\x30\x2D\x38\x30\x30\x30\x2D\x30\x30\x38\x30\x35\x46\x39\x42\x33\x34\x46\x42", "\x30\x30\x30\x30\x31\x38\x30\x30\x2D\x30\x30\x30\x30\x2D\x31\x30\x30\x30\x2D\x38\x30\x30\x30\x2D\x30\x30\x38\x30\x35\x46\x39\x42\x33\x34\x46\x42", "\x30\x30\x30\x30\x31\x38\x30\x41\x2D\x30\x30\x30\x30\x2D\x31\x30\x30\x30\x2D\x38\x30\x30\x30\x2D\x30\x30\x38\x30\x35\x46\x39\x42\x33\x34\x46\x42", "\x30\x30\x30\x30\x31\x38\x30\x31\x2D\x30\x30\x30\x30\x2D\x31\x30\x30\x30\x2D\x38\x30\x30\x30\x2D\x30\x30\x38\x30\x35\x46\x39\x42\x33\x34\x46\x42", "\x63\x68\x61\x72\x61\x63\x74\x65\x72\x69\x73\x74\x69\x63\x73", "\x6E\x6F\x74\x69\x66\x79", "\x70\x72\x6F\x70\x65\x72\x74\x69\x65\x73", "\x77\x72\x69\x74\x65", "\x72\x65\x61\x64", "\u83B7\u53D6\u7279\u5F81\u503C\u5931\u8D25", "\x67\x65\x74\x42\x4C\x45\x44\x65\x76\x69\x63\x65\x43\x68\x61\x72\x61\x63\x74\x65\x72\x69\x73\x74\x69\x63\x73", "\x67\x65\x74\x42\x4C\x45\x44\x65\x76\x69\x63\x65\x53\x65\x72\x76\x69\x63\x65\x73", "\u8FDE\u63A5\u84DD\u7259\u8BBE\u5907\u5931\u8D25", "\x65\x72\x72\x43\x6F\x64\x65", "\x65\x72\x72\x4D\x73\x67", "\u8FDE\u63A5\u6253\u5370\u673A\u5931\u8D25", "\x63\x72\x65\x61\x74\x65\x42\x4C\x45\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E", "\x63\x6C\x6F\x73\x65\x42\x4C\x45\x43\x6F\x6E\x6E\x65\x63\x74\x69\x6F\x6E", "\x64\x65\x76\x69\x63\x65\x73", "\x6E\x61\x6D\x65", "\x70\x75\x73\x68", "\x67\x65\x74\x42\x6C\x75\x65\x74\x6F\x6F\x74\x68\x44\x65\x76\x69\x63\x65\x73", "\u6B63\u5728\u53D1\u9001\u6570\u636E", "\x6C\x6F\x61\x64\x69\x6E\x67", "\x73\x6C\x69\x63\x65", "\x73\x70\x6C\x69\x63\x65", "\x68\x69\x64\x65\x54\x6F\x61\x73\x74", "\x6D\x61\x70", "\x6D\x61\x74\x63\x68", "\x62\x75\x66\x66\x65\x72", "\x77\x72\x69\x74\x65\x42\x4C\x45\x43\x68\x61\x72\x61\x63\x74\x65\x72\x69\x73\x74\x69\x63\x56\x61\x6C\x75\x65", "\x74\x6F\x55\x70\x70\x65\x72\x43\x61\x73\x65", "\x2D", "\x73\x70\x6C\x69\x74", "\x5E\x5B\x41\x2D\x5A\x5D\x7B\x30\x2C\x32\x7D\x5B\x30\x2D\x39\x5D\x7B\x34\x2C\x35\x7D\x5B\x30\x2D\x39\x41\x2D\x5A\x5D\x7B\x32\x2C\x33\x7D\x5B\x30\x2D\x39\x5D\x7B\x32\x7D\x24", "\x67", "\x65\x78\x65\x63", "\x5E\x5B\x30\x2D\x39\x5D\x2B", "\x63\x68\x61\x72\x41\x74", "\x30", "\x39", "\x73\x75\x62\x73\x74\x72\x69\x6E\x67", "\x63\x68\x61\x72\x43\x6F\x64\x65\x41\x74", "\x44", "\x4F"]; const sDeTongCheckSum = _0x5970[0]; const maxSendDataLength = 150; const sendDataWaitTime = 24; var connectedDeviceId = _0x5970[1]; var connectedDevicServiceId = _0x5970[1]; var writeCharacteristicsId = _0x5970[1]; var readCharacteristicsId = _0x5970[1]; var notifyCharacteristicsId = _0x5970[1]; var interval = null; var printList = []; var supportPrefixKeys = []; module[_0x5970[2]] = { setSupportPrefixs: setSupportPrefixs, initBLE: initBLE, startScanPeripherals: startScanPeripherals, stopScanPeripherals: stopScanPeripherals, connectPeripheral: connectPeripheral, disconnectPeripheral: disconnectPeripheral, scanedPeripherals: scanedPeripherals, sendData: sendData }; function setSupportPrefixs(_0x33baxd) { supportPrefixKeys = _0x33baxd } function initBLE(_0x33baxf) { wx[_0x5970[6]]({ success: function (_0x33bax10) { console[_0x5970[4]](_0x5970[3]); startScanPeripherals(_0x33baxf); wx[_0x5970[5]](function (_0x33bax10) { }) } }) } function startScanPeripherals(_0x33baxf) { wx[_0x5970[7]]({ success: function (_0x33bax10) { setTimeout(function () { scanedPeripherals(function (_0x33bax12) { _0x33baxf(_0x33bax12) }) }, 1500) } }) } function stopScanPeripherals() { wx[_0x5970[8]]({ success: function (_0x33bax10) { } }) } function connectPeripheral(_0x33bax15) { stopScanPeripherals(); wx[_0x5970[32]]({ deviceId: _0x33bax15, success: function (_0x33bax10) { connectedDeviceId = _0x33bax15; console[_0x5970[4]](_0x5970[9] + connectedDeviceId); wx[_0x5970[11]]({ title: _0x5970[10], icon: _0x5970[1], image: _0x5970[1], duration: 2000, mask: true, success: function (_0x33bax10) { }, fail: function (_0x33bax10) { }, complete: function (_0x33bax10) { } }); wx[_0x5970[27]]({ deviceId: connectedDeviceId, success: function (_0x33bax10) { var _0x33bax16 = _0x33bax10[_0x5970[12]]; for (var _0x33bax17 = 0; _0x33bax17 < _0x33bax16[_0x5970[13]]; _0x33bax17++) { var _0x33bax18 = _0x33bax10[_0x5970[12]][_0x33bax17][_0x5970[14]]; if (_0x33bax18 != _0x5970[15] && _0x33bax18 != _0x5970[16] && _0x33bax18 != _0x5970[17] && _0x33bax18 != _0x5970[18] && _0x33bax18 != _0x5970[19]) { connectedDevicServiceId = _0x33bax18; break } }; wx[_0x5970[26]]({ deviceId: connectedDeviceId, serviceId: connectedDevicServiceId, success: function (_0x33bax10) { for (var _0x33bax17 = 0; _0x33bax17 < _0x33bax10[_0x5970[20]][_0x5970[13]]; _0x33bax17++) { if (_0x33bax10[_0x5970[20]][_0x33bax17][_0x5970[22]][_0x5970[21]]) { notifyCharacteristicsId = _0x33bax10[_0x5970[20]][_0x33bax17][_0x5970[14]] }; if (_0x33bax10[_0x5970[20]][_0x33bax17][_0x5970[22]][_0x5970[23]]) { writeCharacteristicsId = _0x33bax10[_0x5970[20]][_0x33bax17][_0x5970[14]] }; if (_0x33bax10[_0x5970[20]][_0x33bax17][_0x5970[22]][_0x5970[24]]) { readCharacteristicsId = _0x33bax10[_0x5970[20]][_0x33bax17][_0x5970[14]] } } }, fail: function () { console[_0x5970[4]](_0x5970[25]) }, complete: function () { } }) } }) }, fail: function (_0x33bax19) { console[_0x5970[4]](_0x5970[28], _0x33bax19[_0x5970[29]], _0x33bax19[_0x5970[30]]); wx[_0x5970[11]]({ title: _0x5970[31], icon: _0x5970[1], image: _0x5970[1], duration: 2000, mask: true, success: function (_0x33bax10) { }, fail: function (_0x33bax10) { }, complete: function (_0x33bax10) { } }) }, complete: function () { } }) } function disconnectPeripheral() { wx[_0x5970[33]]({ deviceId: connectedDeviceId, success: function (_0x33bax10) { } }) } function scanedPeripherals(_0x33bax1c) { wx[_0x5970[37]]({ success: function (_0x33bax10) { var _0x33bax1d = new Array(); for (var _0x33bax17 = 0; _0x33bax17 < _0x33bax10[_0x5970[34]][_0x5970[13]]; _0x33bax17++) { var _0x33bax1e = _0x33bax10[_0x5970[34]][_0x33bax17][_0x5970[35]]; if (isMyPrinterForName(_0x33bax1e)) { _0x33bax1d[_0x5970[36]](_0x33bax10[_0x5970[34]][_0x33bax17]) } }; _0x33bax1c(_0x33bax1d) } }) } function sendData(_0x33bax20) { if (printList == null) { printList = new Array() }; if (_0x33bax20 != null) { printList[_0x5970[36]](_0x33bax20); if (printList[_0x5970[13]] > 0) { var _0x33bax21 = printList[0]; if (_0x33bax21[_0x5970[13]] > 0) { wx[_0x5970[11]]({ title: _0x5970[38], icon: _0x5970[39], image: _0x5970[1], duration: 10000, mask: true, success: function (_0x33bax10) { }, fail: function (_0x33bax10) { }, complete: function (_0x33bax10) { } }); interval = setInterval(function () { var _0x33bax18 = _0x33bax21[0]; var _0x33bax22; if (_0x33bax18[_0x5970[13]] > maxSendDataLength) { _0x33bax22 = _0x33bax18[_0x5970[40]](0, maxSendDataLength); _0x33bax21[0] = _0x33bax18[_0x5970[40]](maxSendDataLength, _0x33bax18[_0x5970[13]]) } else { _0x33bax22 = _0x33bax18; _0x33bax21[_0x5970[41]](0, 1) }; postHexValue(_0x33bax22); if (_0x33bax21[_0x5970[13]] > 0) { } else { clearInterval(interval); printList[_0x5970[41]](0, 1); wx[_0x5970[42]]() } }, sendDataWaitTime) } else { clearInterval(interval); printList[_0x5970[41]](0, 1); wx[_0x5970[42]]() } } } } function postHexValue(_0x33bax22) { var _0x33bax24 = new Uint8Array(_0x33bax22[_0x5970[44]](/[\da-f]{2}/gi)[_0x5970[43]](function (_0x33bax25) { return parseInt(_0x33bax25, 16) })); wx[_0x5970[46]]({ deviceId: connectedDeviceId, serviceId: connectedDevicServiceId, characteristicId: writeCharacteristicsId, value: _0x33bax24[_0x5970[45]], success: function (_0x33bax10) { } }) } function isMyPrinterForName(_0x33bax27) { var _0x33bax28 = _0x33bax27[_0x5970[47]](); var _0x33bax29 = _0x33bax28[_0x5970[49]](_0x5970[48]); if (_0x33bax29[_0x5970[13]] > 1) { _0x33bax28 = _0x33bax29[_0x33bax29[_0x5970[13]] - 1]; if (_0x33bax28[_0x5970[13]] < 8) { return false } } else { return false }; var _0x33bax2a = new RegExp(_0x5970[50], _0x5970[51]); if (!_0x33bax2a[_0x5970[52]](_0x33bax28)) { return false }; var _0x33bax2b = new RegExp(_0x5970[53], _0x5970[51]); var _0x33bax2c = _0x33bax2b[_0x5970[52]](_0x33bax28); var _0x33bax2d = _0x5970[1]; var _0x33bax2e = 0; if (_0x33bax28[_0x5970[54]](1) < _0x5970[55] || _0x33bax28[_0x5970[54]](1) > _0x5970[56]) { _0x33bax2d = _0x33bax28[_0x5970[57]](0, 2); _0x33bax28 = _0x33bax28[_0x5970[57]](2, _0x33bax28[_0x5970[13]]); _0x33bax2e += _0x33bax2d[_0x5970[58]](0) * 11; _0x33bax2e += _0x33bax2d[_0x5970[58]](1) * 12 } else { if (_0x33bax28[_0x5970[54]](0) < _0x5970[55] || _0x33bax28[_0x5970[54]](0) > _0x5970[56]) { _0x33bax2d = _0x33bax28[_0x5970[57]](0, 1); _0x33bax28 = _0x33bax28[_0x5970[57]](1, _0x33bax28[_0x5970[13]]); _0x33bax2e += _0x33bax2d[_0x5970[58]](0) * 17 } }; if (((_0x33bax2d[_0x5970[47]]()) == _0x5970[59]) || ((_0x33bax2d[_0x5970[47]]()) == _0x5970[60])) { } else { if (_0x33bax28[_0x5970[13]] < 8) { return false } else { if (supportPrefixKeys[_0x5970[13]] > 0) { for (var _0x33bax17 = 0; _0x33bax17 < supportPrefixKeys[_0x5970[13]]; _0x33bax17++) { var _0x33bax2f = supportPrefixKeys[_0x33bax17]; if (_0x33bax2f[_0x5970[13]] > 0) { var _0x33bax30 = _0x33bax28[_0x5970[57]](0, _0x33bax2f[_0x5970[13]]); if ((_0x33bax30[_0x5970[47]]()) == (_0x33bax2f[_0x5970[47]]())) { break } } else { return false } } } } }; if ((!_0x33bax2c) || _0x33bax28[_0x5970[13]] >= 9 || _0x33bax28[_0x5970[54]](3) != _0x5970[55]) { if (_0x33bax2c) { _0x33bax2e += (_0x33bax28[_0x5970[54]](0) - _0x5970[55]) * 2; _0x33bax2e += (_0x33bax28[_0x5970[54]](1) - _0x5970[55]) * 3; _0x33bax2e += (_0x33bax28[_0x5970[54]](2) - _0x5970[55]) * 5; for (var _0x33bax17 = 4; _0x33bax17 < _0x33bax28[_0x5970[13]]; ++_0x33bax17) { _0x33bax2e += (_0x33bax28[_0x5970[54]](_0x33bax17) - _0x5970[55]) * ((_0x33bax17 & 1) == 0 ? 7 : 9) } } else { _0x33bax2e += _0x33bax28[_0x5970[54]](0) * 2; _0x33bax2e += _0x33bax28[_0x5970[54]](1) * 3; _0x33bax2e += _0x33bax28[_0x5970[54]](2) * 5; for (var _0x33bax17 = 4; _0x33bax17 < _0x33bax28[_0x5970[13]]; ++_0x33bax17) { _0x33bax2e += _0x33bax28[_0x5970[58]](_0x33bax17) * ((_0x33bax17 & 1) == 0 ? 7 : 9) } }; var _0x33bax31 = _0x33bax2e % 10; if (sDeTongCheckSum[_0x5970[54]](_0x33bax31) != _0x33bax28[_0x5970[54]](3)) { return false } }; return true }